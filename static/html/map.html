<!DOCTYPE html>
<html>

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>基础地图展示</title>

  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta tabindex="">
  <link rel="stylesheet" type="text/css" href="http://117.184.195.173:25002/jsmap/1.0/demo/apidemos/sourceLinks/style.css">
  <script type="text/javascript" src="http://117.184.195.173:25002/jsmap/1.0/demo/scripts/jsurl.js"></script>

  <script src="../js/jquery.min.js"></script>
  <script src="../js/js.cookie-2.2.0.min.js"></script>
  <script src="../js/layer/layer.js"></script>
  <script src="../js/jquery.base64.js"></script>
  <script src="../js/countUp.js"></script>
  <script src="../js/echarts.bar.min.js"></script>

  <style>
    .head-container {
      width: 100%;
      /* background: rgba(3,40,53,0.31); */
      /* box-shadow: inset 0 0 25px #0dc2fd; */
      position: fixed;
      top: 0px;
      left: 0;
      z-index: 800;
      margin-top: 5px;
    }

    .head-container .head_logo {
      width: 100%;
      height: 80px;
      background: url(/static/image/toplogo.png) no-repeat;
      background-size: cover;
      -webkit-background-size: cover;
      background-position: center 0;
    }
    /************ 左侧统计 ***************/

    .stat-container * {
      box-sizing: border-box;
    }

    .stat-container {
      width: 220px;
      position: absolute;
      top: 10%;
      z-index: 1000;
      margin-left: 10px;
      display: flex;
      flex-direction: column;
    }

    .stat-row {
      width: 100%;
      height: 100px;
      display: flex;
      align-items: center;
      margin: 5px 0;
      border-image-source: url(../image/line1.png);
      border-style: solid;
      border-width: 1px 1px;
      border-image-slice: 1 fill;
      border-image-outset: initial;
      border-image-repeat: initial;
    }

    .stat-row .row-fgx {
      height: 60%;
      width: 1px
    }

    .stat-box {
      width: 50%;
      margin: 0 auto;
      padding: 5px 5px 5px 5px;
      overflow-x: visible;
      background-color: rgba(2, 48, 65, 0.7);
      position: relative;
    }


    .stat-box .stat-box-icon {
      margin-left: 40px;
      margin-top: 5px;
      position: absolute;
    }

    .stat-box .stat-box-icon i {
      font-size: 19px;
      color: rgba(255, 215, 0, 0.6);
    }

    .stat-box .stat-info {
      /* width: 80px; */
      font-size: 12px;
      color: #dddee1;
      /* margin-left: 20px; */
      text-align: center;
      /* margin-top: 8px; */
      font-weight: bold;
      /* font-family: cursive; */
    }

    .stat-box .stat-num {
      /* width: 80px; */
      color: #FFFFFF;
      font-size: 24px;
      text-align: center;
      margin: 25px 0px 0px 0px;
      font-family: fantasy;
    }

    .stat-num.num-syrk {
      color: #4bf7a5;
    }

    .stat-num.num-syfw {
      color: #77a6eb;
    }

    .stat-num.num-sydw {
      color: #02bcef
    }

    .stat-num.num-syafss {
      color: #81f754;
    }

    .stat-num.num-syllzb {
      color: #f4a244;
    }

    .stat-num.num-syjq {
      color: #ee584c;
    }

    .bubble {
      width: 100%;
      height: 100px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }

    .bubble_list {
      width: 63%;
      height: inherit;
      margin: 0 auto;
      position: relative;
    }

    .bubble_item {
      border-radius: 50%;
      position: absolute;
      display: table;
    }

    .bubble_item:nth-child(1) {
      width: 55px;
      height: 55px;
      top: 30px;
      right: 90px;
      background: rgba(227, 150, 60, 0.9);
      z-index: 1;
    }

    .bubble_item p {
      width: inherit;
      text-align: center;
      vertical-align: middle;
      display: table-cell;
      color: #fff;
      font-size: 11px;
    }

    .bubble_item:nth-child(2) {
      width: 70px;
      height: 70px;
      top: 5px;
      left: 35px;
      background: rgba(7, 150, 62, 0.9);
      z-index: 2;
    }

    .bubble_item:nth-child(3) {
      width: 40px;
      height: 40px;
      top: 55px;
      left: 100px;
      background: rgba(4, 193, 240, 0.9);
      z-index: 2;
    }

    .bubble_min {
      background: #eaedfc;
      border-radius: 50%;
      position: absolute;
      opacity: 0.5;
    }

    .bubble_min:nth-child(1) {
      width: 20px;
      height: 20px;
      top: 100px;
      left: 40px;
    }

    .bubble_min:nth-child(2) {
      width: 90px;
      height: 90px;
      top: 130px;
      left: 110px;
    }

    .bubble_min:nth-child(3) {
      width: 50px;
      height: 50px;
      top: 90px;
      left: 180px;
    }

    .bubble_min:nth-child(4) {
      width: 30px;
      height: 30px;
      top: 250px;
      left: 300px;
    }

    .bubble_min:nth-child(5) {
      width: 30px;
      height: 30px;
      top: 110px;
      right: 200px;
    }

    .ani_top_top {
      -webkit-animation-name: ani_bubble_top_top;
      -moz-animation-name: ani_bubble_top_top;
      animation-name: ani_bubble_top_top;
    }

    .ani_time_8 {
      -webkit-animation-duration: 8s;
      -moz-animation-duration: 8s;
      animation-duration: 8s;
    }

    .ani_time_10 {
      -webkit-animation-duration: 10s;
      -moz-animation-duration: 10s;
      animation-duration: 10s;
    }

    .ani_time_12 {
      -webkit-animation-duration: 12s;
      -moz-animation-duration: 12s;
      animation-duration: 12s;
    }

    .ani_auto {
      -webkit-animation-timing-function: linear;
      -webkit-animation-fill-mode: both;
      -webkit-animation-iteration-count: infinite;
      -moz-animation-timing-function: linear;
      -moz-animation-fill-mode: both;
      -moz-animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-fill-mode: both;
      animation-iteration-count: infinite;
    }

    @-webkit-keyframes ani_bubble_top_top {
      0%,
      100%,
      50% {
        -webkit-transform: translateY(0);
      }
      25% {
        -webkit-transform: translateY(15px);
      }
      75% {
        -webkit-transform: translateY(-15px);
      }
    }

    @-moz-keyframes ani_bubble_top_top {
      0%,
      100%,
      50% {
        -moz-transform: translateY(0);
      }
      25% {
        -moz-transform: translateY(15px);
      }
      75% {
        -moz-transform: translateY(-15px);
      }
    }

    @keyframes ani_bubble_top_top {
      0% {
        transform: translateY(30px);
      }
      100% {
        transform: translateY(-300px);
      }
    }


    .pull-right {
      float: right !important;
    }

    .pull-left {
      float: left !important;
    }

    @font-face {
      font-family: 'iconfont';
      src: url('../icon/iconfont.eot');
      src: url('../icon/iconfont.eot?#iefix') format('embedded-opentype'),
      url('../icon/iconfont.woff') format('woff'),
      url('../icon/iconfont.ttf') format('truetype'),
      url('../icon/iconfont.svg#iconfont') format('svg');
    }
    /* .iconfont {
      font-family: "iconfont" !important;
      font-size: 16px;
      font-style: normal;
      -webkit-font-smoothing: antialiased;
      -webkit-text-stroke-width: 0.2px;
      -moz-osx-font-smoothing: grayscale;
    } */

    .iconfont {
      font-family: "iconfont" !important;
      font-size: 16px;
      font-style: normal;
      -webkit-font-smoothing: antialiased;
    }
    /************ 地图操作 ***************/

    .operator-container {
      position: absolute;
      bottom: 10px;
      text-align: center;
      z-index: 900;
      display: block;
      right: 0;
    }

    .operator-container .operator-ops {
      /* width: 40%; */
      border-right: 6px solid #ffd700;
      margin-right: 10px;
      color: #0dc2fd;
      /* box-shadow: inset 0 0 11px 0px #0dc2fd; */
      background-color: rgba(2, 48, 65, 0.7);
    }

    .operator-container .operator-label {
      display: inline-block;
      cursor: pointer;
      background-image: url(/static/image/checkbox3_on.png);
      padding: 5px 0px;
      background-size: cover;
      -webkit-background-size: cover;
      background-position: center 0;
      font-size: 12px;
      font-weight: 800;
      background-size: cover;
      -webkit-background-size: cover;
      background-position: center 0;
      height: 18px;
      width: 65px;
    }

    .operator-container .operator-radio {
      display: none
    }

    .operator-container .operator-input {
      background-color: #fff;
      border: 1px solid rgba(0, 0, 0, 0.15);
      border-radius: 100%;
      display: inline-block;
      height: 16px;
      margin-right: 10px;
      margin-top: -1px;
      vertical-align: middle;
      width: 16px;
      line-height: 1;
      display: none;
    }

    .operator-container .operator-radio:checked+.operator-input:after {
      background-color: #0869dc;
      border-radius: 100%;
      content: "";
      display: inline-block;
      height: 12px;
      margin: 2px;
      width: 12px
    }

    .operator-container .operator-checkbox.operator-input,
    .operator-radio:checked+.operator-checkbox.operator-input:after {
      border-radius: 0
    }
    /************ 右侧菜菜单 ***************/

    .detail-container {
      width: 300px;
      position: absolute;
      top: 12%;
      right: 10px;
      z-index: 1000;
      margin-left: 10px;
    }


    .detail-tab-container {
      width: 300px;
      margin: 0px;
      padding: 0px;
      margin-bottom: 15px;
      overflow: hidden;
    }
    /* .detail-tab-border {
      border:1px solid #95C9E1;
    } */

    .detail-menu-box {
      line-height: 28px;
      position: relative;
      float: left;
      width: 44px;
      height: 400px;
      /* border-right:1px solid #95C9E1; */
    }

    .detail-menu-box ul {
      margin: 0px;
      padding: 0px;
      list-style: none;
      position: absolute;
      /* top:15px; */
      left: 5px;
      margin-left: 10px;
      height: 25px;
      text-align: center;
    }

    .detail-menu-box li {
      display: block;
      cursor: pointer;
      width: 28px;
      color: #FFFFFF;
      font-family: -webkit-body;
      margin-bottom: 5px;
      height: 62px;
      line-height: 25px;
      padding-top: 6px;
      background-color: rgba(2, 48, 65, 0.7);
      border-top-left-radius: 10px 10px;
      writing-mode: vertical-lr;
      letter-spacing: 5px;
      box-shadow: -1px 1px 3px 0px #0dc2fd;
    }

    .detail-menu-box li.hover {
      background-image: linear-gradient(45deg, rgba(230, 11, 84, 0.66), #ff2468);
    }

    .detail-content-box {
      margin-top: 0px;
      border-top: none;
      padding: 3px 5px 3px 5px;
      margin-left: 43px;
      height: 100%;
      box-shadow: 1px 1px 4px 1px #0dc2fd;
      background-color: rgba(2, 48, 65, 0.88);
    }
    /************ 右侧菜菜单 - 子菜单 ***************/

    .detail-sub-container {
      width: 250px;
      border-top: 3px solid #ff2468;
      margin-top: -3px;
    }

    .detail-sub-container .detail-sub-menu-box {
      height: 28px;
      line-height: 28px;
      position: relative;
      border-bottom: 2px solid rgb(63, 70, 73);
      background-color: rgba(2, 48, 65, 0.7);
    }

    .detail-sub-container ul {
      margin: 0px;
      padding: 0px;
      list-style: none;
      position: absolute;
      top: 4px;
      left: 0;
      height: 25px;
      text-align: center;
    }

    .detail-sub-container li {
      float: left;
      display: block;
      cursor: pointer;
      width: 60px;
      color: #FFFFFF;
      font-weight: bold;
      margin-right: 2px;
      height: 25px;
      line-height: 25px;
      background-color: rgb(190, 18, 18, 0);
      font-size: 14px;
    }

    .detail-sub-container li.hover {
      background-color: rgb(255, 36, 104);
    }

    .detail-sub-container .detail-sub-content-box {
      padding-top: 8px;
      height: 420px;
      overflow-y: auto;
    }

    .detail-sub-container .detail-sub-content-box::-webkit-scrollbar {
      width: 6px;
      height: 2px;
    }

    .detail-sub-container .detail-sub-content-box::-webkit-scrollbar-thumb {
      border-radius: 1px;
      background: #2b85e4;
    }

    .detail-sub-container .detail-sub-content-box::-webkit-scrollbar-track {
      border-radius: 1px;
      background: #033447;
    }

    .can-click:hover {
      cursor: pointer;
    }
    /************ 右侧菜菜单 - 子菜单 - 人脸 - 抓拍 ***************/

    .con_subdetail_face_1_item {
      display: block;
      height: 90px;
    }

    .con_subdetail_face_1_item .item_avatar {
      width: 80px;
      height: 80px;
      display: block;
      float: left;
    }

    .con_subdetail_face_1_item .item_avatar img {
      width: 80px;
      height: 80px;
    }

    .con_subdetail_face_1_item .item_info {
      display: block;
      float: left;
      margin-left: 5px;
      color: #FFFFFF;
      font-size: 14px;
      line-height: 1.5rem;
    }
    /************ 右侧菜菜单 - 子菜单 - 人脸 - 小区 ***************/

    .con_subdetail_face_2_item {
      display: block;
    }

    .con_subdetail_face_2_item .item-title {
      line-height: 25px;
      height: 25px;
    }

    .con_subdetail_face_2_item .item-title {
      line-height: 25px;
      height: 25px;
      font-size: 14px;
      color: #FFFFFF;
    }

    .con_subdetail_face_2_item .item-title i {
      float: left;
      color: #0075c2;
    }

    .con_subdetail_face_2_item .item-title .item-title-name {
      float: left;
      margin-left: 5px;
    }

    .con_subdetail_face_2_item .item-title .item-title-time {
      float: right;
      color: #cecbcb;
    }

    .con_subdetail_face_2_item .item-content {
      display: block;
      height: 75px;
      margin-bottom: 5px;
    }

    .con_subdetail_face_2_item .item_avatar {
      width: 70px;
      height: 70px;
      display: block;
      float: left;
      margin-right: 8px;
    }

    .con_subdetail_face_2_item .item_avatar img {
      width: 70px;
      height: 70px;
    }

    .con_subdetail_face_2_item .item_info {
      display: block;
      float: left;
      color: #FFFFFF;
      font-size: 14px;
      line-height: 1.5rem
    }

    .con_subdetail_face_2_item .item_info .item_info_contrast {
      color: gold;
      font-size: 24px;
      margin-bottom: 2px;
    }
    /************ 右侧菜菜单 - 子菜单 - 人脸 - 报警 ***************/

    .con_subdetail_face_3_item {
      display: block;
    }

    .con_subdetail_face_3_item .item-title {
      line-height: 25px;
      height: 25px;
    }

    .con_subdetail_face_3_item .item-title {
      line-height: 25px;
      height: 25px;
      font-size: 14px;
      color: #FFFFFF;
    }

    .con_subdetail_face_3_item .item-title i {
      float: left;
      color: #0075c2;
    }

    .con_subdetail_face_3_item .item-title .item-title-name {
      float: left;
      word-break: keep-all;
      white-space: nowrap;
      width: 90px;
      overflow: hidden;
    }

    .con_subdetail_face_3_item .item-title .item-title-time {
      float: right;
      color: #cecbcb;
    }

    .con_subdetail_face_3_item .item-content {
      display: block;
      height: 75px;
      margin-bottom: 5px;
    }

    .con_subdetail_face_3_item .item_avatar {
      width: 70px;
      height: 70px;
      display: block;
      float: left;
      margin-right: 8px;
    }

    .con_subdetail_face_3_item .item_avatar img {
      width: 70px;
      height: 70px;
    }

    .con_subdetail_face_3_item .item_info {
      display: block;
      float: left;
      color: #FFFFFF;
      font-size: 14px;
      line-height: 1.5rem
    }

    .con_subdetail_face_3_item .item_info div {
      word-break: keep-all;
      white-space: nowrap;
      width: 80px;
      overflow: hidden;
    }

    .con_subdetail_face_3_item .item_info .item_info_contrast {
      color: gold;
      font-size: 24px;
      margin-bottom: 2px;
    }
    /************ 右侧菜菜单 - 过车 ***************/

    #con_detail_3 .con_vehicle_pass {
      display: block;
      height: 100%;
    }

    #con_detail_3 .con_vehicle_pass_stat {
      width: 100%;
      height: 110px;
      font-size: 14px;
      padding-top: 10px;
      line-height: 1.6rem;
      background-color: rgba(2, 48, 65, 0.7);
      box-shadow: 0px 1px 3px #0dc2fd;
      margin-bottom: 8px;
      margin-top: -3px;
      text-align: center;
      border-top: 3px solid #409eff;
    }

    #con_detail_3 .con_vehicle_pass_stat .con_vehicle_pass_stat_total {
      display: block;
      font-size: 16px;
      color: #FFFFFF;
    }

    #con_detail_3 .con_vehicle_pass_stat .con_vehicle_pass_stat_left {
      width: 45%;
      display: inline-block;
      text-align: right;
      color: lightgrey;
    }

    #con_detail_3 .con_vehicle_pass_stat .con_vehicle_pass_stat_center {
      width: 22%;
      display: inline-block;
      color: #00cd47;
      font-size: 18px;
    }

    #con_detail_3 .con_vehicle_pass_stat .con_vehicle_pass_stat_right {
      width: 28%;
      display: inline-block;
      color: #e0c85c;
      font-size: 14px;
    }

    #con_detail_3 .con_vehicle_pass_record {
      display: block;
      overflow-y: auto;
      height: 330px;
    }

    #con_detail_3 .con_vehicle_pass_record::-webkit-scrollbar {
      width: 6px;
      height: 2px;
    }

    #con_detail_3 .con_vehicle_pass_record::-webkit-scrollbar-thumb {
      border-radius: 1px;
      background: #2b85e4;
    }

    #con_detail_3 .con_vehicle_pass_record::-webkit-scrollbar-track {
      border-radius: 1px;
      background: #033447;
    }

    #con_detail_3 .con_vehicle_pass_record_item {
      height: 72px;
      margin-bottom: 6px;
    }

    #con_detail_3 .con_vehicle_pass_record_item .item_photo {
      width: 128px;
      height: 72px;
      display: inline-block;
    }

    #con_detail_3 .con_vehicle_pass_record_item .item_photo img {
      width: 128px;
      height: 72px;
      display: inline-block;
    }

    #con_detail_3 .con_vehicle_pass_record_item .item_info {
      display: block;
      float: right;
      height: 70px;
      width: 108px;
      color: #cecbcb;
      font-size: 14px;
      line-height: 1.2rem;
    }

    #con_detail_3 .item_info .item_info_plate {
      color: whitesmoke;
      font-size: 16px;
      margin-bottom: 6px;
      margin-top: 3px;
      font-family: monospace;
      background-color: #0a5eef;
      text-align: center;
      width: 100px;
    }

    #con_detail_3 .item_info .item_info_plate_yellow {
      color: black !important;
      background-color: #ef910a;
    }

    #con_detail_3 .item_info .item_info_status_entry {
      background-color: #00cd47 !important;
    }

    #con_detail_3 .item_info .item_info_status {
      color: #FFFFFF;
      background-color: #f12608;
      width: 29px;
      height: 20px;
      line-height: 20px;
      padding: 0px 5px;
      display: inline-block;
    }

    #con_detail_3 .item_info .item_info_clly {
      color: #FFFFFF;
      width: 29px;
      height: 20px;
      line-height: 20px;
      padding: 0px 5px;
      display: inline-block;
      margin-left: 10px;
    }

    #con_detail_3 .item_info .item_info_clly_xq {
      color: black !important;
      background-color: #ef910a;
    }

    #con_detail_3 .item_info .item_info_clly_xq:hover {
      cursor: pointer;
    }
    /************ 右侧菜菜单 - 过车 ***************/

    #con_detail_4 .con_wifi_records {
      display: block;
      color: #FFFFFF;
    }

    #con_detail_4 .con_wifi_operator {
      height: 25px;
      line-height: 25px;
      /* box-shadow: 0px 1px 3px 0px #0dc2fd; */
      box-shadow: 0px 0px 1px 0px #0dc2fd;
    }

    #con_detail_4 .con_wifi_more {
      float: right;
      margin-right: 5px;
      color: #cecbcb;
      font-size: 14px;
    }

    #con_detail_4 .con_wifi_items {
      display: block;
      height: 430px;
      overflow-y: auto;
      font-size: 14px;
    }

    #con_detail_4 .con_wifi_items::-webkit-scrollbar {
      width: 6px;
      height: 2px;
    }

    #con_detail_4 .con_wifi_items::-webkit-scrollbar-thumb {
      border-radius: 1px;
      background: #2b85e4;
    }

    #con_detail_4 .con_wifi_items::-webkit-scrollbar-track {
      border-radius: 1px;
      background: #033447;
    }

    #con_detail_4 .con_wifi_items .con_wifi_item {
      height: 80px;
      line-height: 1.8rem;
      margin-bottom: 10px;
      margin-top: 0px;
      padding-bottom: 15px;
      border-bottom: 1px dashed #cecbcb;
    }

    #con_detail_4 .con_wifi_items .con_wifi_item_left {
      width: 25%;
      display: inline-block;
      text-align: right;
    }

    #con_detail_4 .con_wifi_items .con_wifi_item_right {
      width: 65%;
      display: inline-block;
      text-align: left;
    }

    #con_detail_4 .con_wifi_items .word_break {
      word-break: keep-all;
      white-space: nowrap;
      /* overflow: hidden; */
      /* text-overflow: ellipsis; */
    }
    /*********** 消防 - 消防栓 ******************/

    #con_subdetail_xf_1 .con_xf_xfs_record_item {
      height: 72px;
      margin-bottom: 6px;
      font-size: 14px;
    }

    #con_subdetail_xf_1 .con_xf_xfs_record_item i {
      float: left;
      display: block;
      color: #F61653;
      margin-top: 3px;
    }

    #con_subdetail_xf_1 .con_xf_xfs_record_item .item_photo {
      width: 108px;
      height: 72px;
      display: inline-block;
    }

    #con_subdetail_xf_1 .con_xf_xfs_record_item .item_photo img {
      width: 108px;
      height: 72px;
      display: inline-block;
    }

    #con_subdetail_xf_1 .con_xf_xfs_record_item .item_info {
      display: block;
      float: left;
      height: 70px;
      width: 118px;
      color: #cecbcb;
      font-size: 14px;
      line-height: 1.2rem;
    }

    #con_subdetail_xf_1 .item_info .item_info_name {
      color: whitesmoke;
      margin-bottom: 6px;
      margin-top: 3px;
      font-family: monospace;
      text-align: left;
      width: 110px;
      /* word-break: keep-all;
      white-space: nowrap; */
      overflow: hidden;
    }

    #con_subdetail_xf_1 .item_info .item_info_status {
      color: #FFFFFF;
      background-color: #00cd47;
      width: 29px;
      height: 20px;
      line-height: 20px;
      padding: 0px 5px;
    }
    /*********** 消防 - 窨井盖 ******************/

    #con_subdetail_xf_2 .con_xf_yjg_record_item {
      height: 72px;
      margin-bottom: 6px;
      font-size: 14px;
    }

    #con_subdetail_xf_2 .con_xf_yjg_record_item i {
      float: left;
      display: block;
      color: #F61653;
      margin-top: 3px;
    }

    #con_subdetail_xf_2 .con_xf_yjg_record_item .item_photo {
      width: 108px;
      height: 72px;
      display: inline-block;
    }

    #con_subdetail_xf_2 .con_xf_yjg_record_item .item_photo img {
      width: 108px;
      height: 72px;
      display: inline-block;
    }

    #con_subdetail_xf_2 .con_xf_yjg_record_item .item_info {
      display: block;
      float: left;
      height: 70px;
      width: 118px;
      color: #cecbcb;
      font-size: 14px;
      line-height: 1.2rem;
    }

    #con_subdetail_xf_2 .item_info .item_info_name {
      color: whitesmoke;
      margin-bottom: 6px;
      margin-top: 3px;
      font-family: monospace;
      text-align: left;
      width: 110px;
      /* word-break: keep-all;
      white-space: nowrap; */
      overflow: hidden;
    }

    #con_subdetail_xf_2 .item_info .item_info_status {
      color: #FFFFFF;
      background-color: #00cd47;
      width: 29px;
      height: 20px;
      line-height: 20px;
      padding: 0px 5px;
    }
    /******* 地图颜色覆盖 **********/

    .imap-popup-content-wrapper,
    .imap-popup-tip {
      background: rgba(20, 65, 170, 0.7);
      box-shadow: 3px 4px 9px 2px #0075c2;
    }

    .imap-window {
      background-color: transparent;
      color: #FFFFFF;
    }

    .imap-overlay-pane {
      z-index: 800;
    }

    .imap-label {
      border: 0px;
      background: rgba(255, 255, 255, 0);
    }
    /************** INFOWINDOW 样式 *****************************/

    .infowindow-container {
      width: 280px;
    }

    .infowindow-container .infowindow-title {
      position: relative;
      background-color: rgba(20, 65, 170, 0.7);
      border-bottom: 1px solid #CCC;
      border-radius: 5px 5px 0 0;
    }

    .infowindow-container .infowindow-title-content {
      display: inline-block;
      color: #FFFFFF;
      font-size: 14px;
      font-weight: bold;
      line-height: 31px;
      padding: 0 10px;
    }

    .infowindow-container .infowindow-title-close {
      position: absolute;
      top: 5px;
      right: 10px;
      transition-duration: 0.25s;
      color: #FFFFFF;
    }

    .infowindow-container .infowindow-content {
      font-size: 12px;
      padding: 6px;
      line-height: 20px;
      background-color: rgba(20, 65, 170, 0.7);
      height: 77px;
      color: #FFFFFF;
    }

    .infowindow-container .infowindow-content-image {
      float: left;
      margin-right: 10px;
      width: 100px;
      height: 70px;
    }

    .infowindow-container .infowindow-marker {
      height: 0px;
      width: 100%;
      clear: both;
      text-align: center;
      position: relative;
      top: -18px;
      margin: 0px auto;
    }

    .infowindow-container .infowindow-marker i {
      font-size: 32px;
      color: rgba(20, 65, 170, 0.7);
    }
    /************** 动态感知窗样式 *****************************/

    .dynamic-container {
      background-image: url("/static/image/marker_dynamic_bg.png");
      background-repeat: no-repeat;
      background-size: 100% 100%;
      -moz-background-size: 100% 100%;
      width: 200px;
    }

    .dynamic-container .dynamic-title {
      position: relative;
      /* background-color: rgba(20, 65, 170, 0.7); */
      /* border-bottom: 1px solid #CCC; */
      border-radius: 5px 5px 0 0;
    }

    .dynamic-container .dynamic-title-content {
      display: inline-block;
      color: #FFFFFF;
      font-size: 14px;
      font-weight: bold;
      line-height: 31px;
      padding: 0 10px;
    }

    .dynamic-container .dynamic-title-close {
      position: absolute;
      top: 5px;
      right: 10px;
      transition-duration: 0.25s;
      color: #FFFFFF;
    }

    .dynamic-container .dynamic-content {
      font-size: 12px;
      padding: 0px 6px 8px;
      line-height: 20px;
      /* background-color: rgba(20, 65, 170, 0.7); */
      height: 80px;
      color: #FFFFFF;
      margin-left: 8px;
      margin-top: -3px;
    }

    .dynamic-container .dynamic-content-image {
      float: left;
      margin-right: 10px;
      width: 80px;
      height: 80px;
      border-radius: 3px;
      box-shadow: 0 0 0px 1px rgb(8, 181, 255)
    }

    .dynamic-container .dynamic-content-info {
      white-space: normal;
    }

    .dynamic-container .dynamic-marker {
      height: 0px;
      width: 100%;
      clear: both;
      text-align: center;
      position: relative;
      top: -18px;
      margin: 0px auto;
    }

    .dynamic-container .dynamic-marker i {
      font-size: 32px;
      color: rgba(20, 65, 170, 0.7);
    }
    /********* 图片详情对话框 ******************************/

    .layui-layer {
      background-color: rgba(42, 61, 93, 0.8);
    }

    .dialog-face-msg-container {
      padding: 25px 0px 15px 20px;
    }

    .dialog-face-msg-container .img-1 {
      display: inline-block;
      width: 200px;
      height: 200px;
      margin-right: 10px;
    }

    .dialog-face-msg-container .img-1 img {
      width: 200px;
    }

    .dialog-face-msg-container .img-2 {
      display: inline-block;
      width: 356px
    }

    .dialog-face-msg-container .img-2 img {
      width: 356px
    }

    .dialog-face-similar-container {
      padding: 25px 0px 15px 20px;
    }

    .dialog-face-similar-container .img-1 {
      display: inline-block;
      width: 200px;
      height: 200px;
      margin-right: 10px;
    }

    .dialog-face-similar-container .img-1 img {
      width: 200px;
    }

    .dialog-face-similar-container .img-2 {
      display: inline-block;
      width: 163px;
      height: 200px;
      margin-right: 10px;
    }

    .dialog-face-similar-container .img-2 img {
      width: 163px;
      height: 200px;
    }

    .dialog-face-similar-container .img-3 {
      display: inline-block;
      height: 200px;
      width: 356px;
    }

    .dialog-face-similar-container .img-3 img {
      height: 200px;
      width: 356px;
    }

    .dialog-face-similar-container .msg-1 {
      display: inline-block;
      width: 200px;
      height: 80px;
      margin-right: 10px;
      text-align: left;
      font-size: 14px;
      color: #FFFFFF;
      padding-top: 10px;
      line-height: 1.4rem;
    }

    .dialog-face-similar-container .msg-1 span {
      margin-left: 3px;
      margin-right: 5px;
    }

    .dialog-face-similar-container .msg-2 {
      display: inline-block;
      width: 350px;
      height: 80x;
      margin-right: 10px;
      text-align: left;
      font-size: 14px;
      color: #FFFFFF;
      padding-top: 10px;
      line-height: 1.4rem;
    }

    .dialog-vehicle-pass-container {
      width: 100%;
      height: 100%;
    }

    .dialog-vehicle-pass-container img {
      width: 100%;
      height: 100%;
    }

    .dialog-vehicle-owner-container {
      width: 100%;
      height: 100%;
      display: flex;
    }

    .dialog-vehicle-owner-container * {
      box-sizing: border-box;
    }

    .dialog-vehicle-owner-container .img {
      width: 256px;
      height: 144px;
      padding: 10px;
      display: inline-block;
    }

    .dialog-vehicle-owner-container img {
      width: 100%;
      height: 100%;
    }

    .dialog-vehicle-owner-container .msg {
      font-size: 14px;
      color: white;
      line-height: 2rem;
      padding: 10px;
      display: inline-block;
    }

    .icon-custom {
      color: #00AFFF;
    }

    .layer-custom {
      background-color: rgba(42, 61, 93, 0.75);
    }

    .layer-custom .layui-layer-content {
      overflow: hidden;
    }

  </style>

  <script>
    var baseUrl = window.parent.document.getElementById("baseUrl").value;
    var picBaseUrl = "http://116.228.125.236:18181/";
    var serviceUrl = locationPath();

    $(document).ready(function () {

      // 页面初始数据
      initData();

      // 页面地图数据切换事件绑定
      initOperatorMenuEvent();

      // 右侧菜单上的按钮事件绑定
      initDetailContainerDomEvent();
    });

    function initOperatorMenuEvent() {

      // 地图展示数据类型切换
      $(".operator-radio").click(function () {

        var name = $(this).attr("name");
        var checked = $(this).is(":checked");

        // 选中实有房屋
        if (name == 'operator-house' && checked) {
          showHouseLocations();
        }

        // 取消选中实有房屋
        if (name == 'operator-house' && !checked) {
          hiddenHouseLocations();
        }

        // 选中实有单位
        if (name == 'operator-dwxx' && checked) {
          showLocationsByType("dwxx");
        }

        // 取消选中实有单位
        if (name == 'operator-dwxx' && !checked) {
          hiddenLocationsByType("dwxx");
        }

        // 选中小区出入口
        if (name == 'operator-xqxx' && checked) {
          showLocationsByType("xqxx");
        }

        // 取消选中小区出入口
        if (name == 'operator-xqxx' && !checked) {
          hiddenLocationsByType("xqxx");
        }

        // 选中实有安防设施
        if (name == 'operator-camera' && checked) {
          showLocationsByType("camera");
          showLocationsByType("xfs");
        }

        // 取消实有安防设施
        if (name == 'operator-camera' && !checked) {
          hiddenLocationsByType("camera");
          hiddenLocationsByType("xfs");
        }

        // 取消动态感知
        if (name == 'operator-dynamic' && !checked) {
          hiddenDynamicData();
        }

        // 选中WIFI嗅探
        if (name == 'operator-wifi' && checked) {
          showLocationsByType("wifi");
        }

        // 取消WIFI嗅探
        if (name == 'operator-wifi' && !checked) {
          hiddenLocationsByType("wifi");
        }
      });
    }

    // 右侧菜单上的按钮事件绑定
    var _data_interval;

    function initDetailContainerDomEvent() {

      // 人脸标签页点击
      $(".detail-menu-box #detail1").click(function () {

        // loadFaceMsgData();

        console.info($("#subdetail_face_2").hasClass("hover"));

        // 判断当前选中了那个标签页
        if ($("#subdetail_face_2").hasClass("hover")) {
          // 清除
          clearDataInterval();

          // 加载数据
          loadFaceSimilarData();
          _data_interval = window.setInterval("loadFaceSimilarData()", 5000);
        }

        if ($("#subdetail_face_3").hasClass("hover")) {
          // 清除
          clearDataInterval();

          // 加载数据
          loadFaceSimilarAlarmData();
          _data_interval = window.setInterval("loadFaceSimilarAlarmData()", 5000);
        }
      })

      // 人脸标签页 - 抓拍子标签点击
      $(".detail-content-box #subdetail_face_1").click(function () {
        // loadFaceMsgData();
      })

      // 人脸标签页 - 比中小区子标签点击
      $(".detail-content-box #subdetail_face_2").click(function () {

        // 清除
        clearDataInterval();

        // 加载数据
        loadFaceSimilarData();
        _data_interval = window.setInterval("loadFaceSimilarData()", 5000);
      })

      // 人脸标签页 - 比中报警子标签点击
      $(".detail-content-box #subdetail_face_3").click(function () {

        // 清除
        clearDataInterval();

        // 加载数据
        loadFaceSimilarAlarmData();
        _data_interval = window.setInterval("loadFaceSimilarAlarmData()", 5000);
      })

      // 过车标签页
      $(".detail-menu-box #detail3").click(function () {

        // 清除
        clearDataInterval();

        // 加载数据
        loadVehiclePassData();
        _data_interval = window.setInterval("loadVehiclePassData()", 5000);
      })

      // WIFI 标签页
      $(".detail-menu-box #detail4").click(function () {

        // 清除
        clearDataInterval();

        // 加载数据
        loadWifiData();
        _data_interval = window.setInterval("loadWifiData()", 5000);
      })

    }

    function clearDataInterval() {
      if (_data_interval) {
        window.clearInterval(_data_interval);
      }
    }

    // 取消动态感知
    function hiddenDynamicData() {
      if (map && _dynamic_marker) {
        map.getOverlayLayer().removeOverlay(_dynamic_marker);
      }
    }

    // 页面初始化需要加载的数据
    function initData() {
      var token = Cookies.get("Admin-Token");

      createEventSource(successCallBack);

      // 加载一标六实数据
      setInterval(loadData(baseUrl + "/houses/amounts", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var ybls = data.data;
          countUp('syrk', ybls.syrk);
          countUp('syfw', ybls.syfw);
          countUp('sydw', ybls.sydw);
          countUp('syafss', 34);
          countUp('syllzb', ybls.syllzb);
          countUp('syjq', ybls.syjq);
          drawBarChart();
        }
      }), 1000 * 30)

      // 页面默认的定位信息数据加载
      loadDefaultLocations();

      // 右侧菜单数据加载
      loadDefaultMenuDatas();

    }

    function drawBarChart() {
      // 基于准备好的dom，初始化echarts实例
      var myChart = echarts.init(document.getElementById('chart'));

      var option = {
        grid: {
          left: 50
        },
        title: {
          show: false
        },
        color: ['#3398DB'],
        xAxis: {
          show: false,
        },
        yAxis: {
          type: 'category',
          axisTick: {
            show: false
          },
          axisLine: {
            show: false,
            lineStyle: {
              color: '#dddee1' // 左边线的颜色
            }
          },
          data: ['无身份', '未成年', '群租', '混住', '空房']
        },
        series: [{
          name: '2011年',
          type: 'bar',
          data: [20, 20, 110, 134, 334]
        }]
      };

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);

    }


    function successCallBack(e) {
      var data = JSON.parse(e.data);
      var code = data.code;
      if (code == 200 && data.dataType == 'YBLS') {
        var ybls = data.data;
        countUp('syrk', ybls.syrk);
        countUp('syfw', ybls.syfw);
        countUp('sydw', ybls.sydw);
        countUp('syafss', 34);
        countUp('syllzb', ybls.syllzb);
        countUp('syjq', ybls.syjq);
      } else if (code == 200 && data.dataType == 'YT') {
        showDynamicData(data.data);
      }
    }

    function createEventSource(successCallBack) {
      var token = Cookies.get("Admin-Token");
      var url = baseUrl + '/sseEmitter/YBLS,YT?Authorization=' + token;
      if (!!window.EventSource) {
        var source = new EventSource(url);
        source.addEventListener('message', function (e) {
          successCallBack(e);
        }, true);
        source.addEventListener('open', function (e) {
          console.log("Connection opened");
        }, true);

        source.addEventListener('error', function (e) {
          console.log("Connection error");
        }, true);

        source.addEventListener('close', function (e) {
          console.log("Connection closed");
        }, true);
      }
    }

    // 展示推送的动态感知数据 - 抓拍
    function showDynamicData(message) {

      // 地图展示动态感知数据
      if ($("#operator-dynamic").is(":checked")) {
        showDynamicDataInMap(message);
      }

      // 刷新右侧菜单中的抓拍信息
      showDynamicDataInFaceMsgMenu(message);
    }

    var _dynamic_marker;
    // 地图展示动态感知数据
    function showDynamicDataInMap(message) {

      // 地图展示动态感知 Marker
      addMarkerWithLabel(message.cameraLng, message.cameraLat, message.cameraId, 'dynamic', message);

    }

    // 地图展示动态感知 Marker
    function addMarkerWithLabel(lng, lat, did, type, origin) {
      if (!map) {
        return;
      }

      // 如果已经展示了动态数据，清除数据
      if (_dynamic_marker) {
        map.getOverlayLayer().removeOverlay(_dynamic_marker);
      }

      // marker options
      var path = locationPath();
      var opts = new IMAP.MarkerOptions();
      opts.anchor = IMAP.Constants.BOTTOM_CENTER;
      opts.icon = new IMAP.Icon(
        path + "/static/image/dynamic_16.png", {
          "size": new IMAP.Size(16, 16),
          "offset": new IMAP.Pixel(0, 0)
        }
      );

      // marker location
      var lnglat = new IMAP.LngLat(lng, lat);
      _dynamic_marker = new IMAP.Marker(lnglat, opts);
      _dynamic_marker.id = type + "_" + did;
      _dynamic_marker.type = type;
      map.getOverlayLayer().addOverlay(_dynamic_marker, false);

      var content = assembleLabelContentForDynamicData("动态感知", picBaseUrl + "/face/" + origin.faceImageUrl + ".jpg",
        origin.cameraName + "</br>" + origin.timeBegin);
      // marker label
      _dynamic_marker.setLabel(
        content, {
          "anchor": IMAP.Constants.TOP_CENTER,
          "visible": true,
          "offset": new IMAP.Pixel(0, -134)
        }
      );
    }

    function assembleLabelContentForDynamicData(title, url, context) {
      var content = "<div class=\"dynamic-container\">"
      content = content + "<div class=\"dynamic-title\">"
      content = content + "<div class=\"dynamic-title-content\">";
      content = content + title;
      content = content + "</div>";
      // content = content + "<span class=\"infowindow-title-close\" onclick=\"closeInfoWindow()\">";
      // content = content + "<i class=\"iconfont\">&#xe603;</i>"
      // content = content + "</span>";
      content = content + "</div>";
      content = content + "<div class=\"dynamic-content\">";
      content = content + "<img class=\"dynamic-content-image\" src=\" " + url +
        "\" onerror=\"this.src='/static/image/default_nophoto.png'\"/>";
      content = content + "<div class=\"dynamic-content-info\">"
      content = content + context;
      content = content + "</div>"
      content = content + "</div>";
      // content = content + "<div class=\"infowindow-marker\">";
      // content = content + "<i class=\"iconfont\">&#xe682;</i>";
      // content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    // 刷新右侧菜单中的抓拍信息
    function showDynamicDataInFaceMsgMenu(message) {

      // 组装 HTML
      var faceMsgItemHtml = assembleFaceMsgItem(message);

      // 插入目标节点
      $("#con_subdetail_face_1").prepend(faceMsgItemHtml);

      // 删除最后一个节点
      $("#con_subdetail_face_1 .con_subdetail_face_1_item").eq(-1).remove();

    }

    // 右侧菜单数据加载
    function loadDefaultMenuDatas() {

      // 右侧菜单人脸识别数据 - 抓拍
      loadFaceMsgData();

      // 右侧菜单人脸识别数据 - 小区
      loadFaceSimilarData();

      // 右侧菜单人脸识别数据 - 报警
      loadFaceSimilarAlarmData();

      // 右侧菜单过车数据
      loadVehiclePassData();

      // WIFI 记录数据
      loadWifiData();

      // 窨井盖数据
      loadYjgData();

    }

    // 窨井盖数据
    function loadYjgData() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/xqxx/yjg/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showYjgData(messages);
        }
      });
    }


    // 右侧菜单中消防栓数据展示
    function showYjgData(messages) {

      var token = Cookies.get("Admin-Token");
      var yjgDataHtml = "";
      for (var i = 0; i < messages.length; i++) {
        yjgDataHtml = yjgDataHtml + "<div class=\"con_xf_yjg_record_item\" data-pic=\"" + messages[i].crkbh + "\">";
        yjgDataHtml = yjgDataHtml + "  <i class=\"iconfont\">&#xe651;</i>";
        yjgDataHtml = yjgDataHtml + "  <div class=\"item_photo\" onclick=\"showYjgPicDialog(this)\">";
        yjgDataHtml = yjgDataHtml + "    <img src=\"" + baseUrl + "/xqxx/" + messages[i].crkbh +
          "/photo?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\">";
        yjgDataHtml = yjgDataHtml + "  </div>";
        yjgDataHtml = yjgDataHtml + "  <div class=\"item_info\">";
        yjgDataHtml = yjgDataHtml + "    <div class=\"item_info_name \">" + messages[i].crkmc + "</div>";
        yjgDataHtml = yjgDataHtml + "    <div class=\"item_info_status\">正常</div>";
        yjgDataHtml = yjgDataHtml + "  </div>";
        yjgDataHtml = yjgDataHtml + "</div>";
      }

      $("#con_detail_5 #con_subdetail_xf_2").html(yjgDataHtml);
    }

    function showYjgPicDialog(obj) {

      var pic = $(obj).parent(".con_xf_yjg_record_item").data("pic");
      var content = assembleXfsDialogContent(pic);

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['768px', '432px'],
        "content": content,
        "moveType": 1,
        "skin": 'layer-custom',
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }


    // WIFI 记录数据
    function loadWifiData() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/wifi/records", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showWifiData(messages);
        }
      });
    }

    // 展示 WIFI 数据
    function showWifiData(messages) {

      var wifiDataHtml = "";
      for (var i = 0; i < messages.length; i++) {
        wifiDataHtml = wifiDataHtml + "<div class=\"con_wifi_item\">";
        wifiDataHtml = wifiDataHtml + " <div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_left\">MAC：</div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_right\">" + messages[i].mac + "</div>";
        wifiDataHtml = wifiDataHtml + " </div>";
        wifiDataHtml = wifiDataHtml + " <div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_left\">时间：</div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_right\">" + messages[i].startTime + "</div>";
        wifiDataHtml = wifiDataHtml + " </div>";
        wifiDataHtml = wifiDataHtml + " <div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_left\">ESSID：</div>";
        wifiDataHtml = wifiDataHtml + "   <div class=\"con_wifi_item_right word_break\">" + messages[i].essid +
          "</div>";
        wifiDataHtml = wifiDataHtml + " </div>";
        wifiDataHtml = wifiDataHtml + "</div>";

      }
      $("#con_detail_4 .con_wifi_items").html(wifiDataHtml);
    }

    // 加载右侧菜单过车数据
    function loadVehiclePassData() {

      // 加载过车数据统计
      loadVehicleStat();

      // 加载过车记录数据
      loadVehiclePassRecords();
    }

    // 加载过车统计数据
    function loadVehicleStat() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/xqtc/stat", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var message = data.data;
          showVehiclePassStatData(message);
        }
      });
    }

    // 加载过车统计数据
    function loadVehiclePassRecords() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/xqtc/records", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showVehiclePassStatRecords(messages);
        }
      });
    }

    // 展示过车统计记录
    function showVehiclePassStatRecords(messages) {
      var passRecordsHtml = "";
      for (var i = 0; i < messages.length; i++) {

        var dtime = messages[i].tm.substring(5);
        var dpic = "";
        var din = "";
        if (messages[i].status == "进入") {
          dpic = messages[i].inimg;
          din = "item_info_status_entry";
        } else {
          dpic = messages[i].outimg;
        }

        var pcolor = "";
        if (messages[i].platecolor != "蓝色") {
          pcolor = "item_info_plate_yellow";
        }

        passRecordsHtml = passRecordsHtml + "<div class=\"con_vehicle_pass_record_item\" data-pic=\"" + dpic +
          "\" data-cphm=\"" + messages[i].cphm + "\" data-lxdh=\"" + messages[i].lxdh + "\" data-ssxq=\"" + messages[i]
          .ssxq + "\" data-dz=\"" + messages[i].dz + "\">";
        passRecordsHtml = passRecordsHtml + " <div class=\"item_photo\" onclick=\"showVehicleVehiclePicDialog(this)\">";
        passRecordsHtml = passRecordsHtml + "   <img src=\"" + picBaseUrl + "/car/" + dpic +
          "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        passRecordsHtml = passRecordsHtml + " </div>";
        passRecordsHtml = passRecordsHtml + " <div class=\"item_info\">";
        passRecordsHtml = passRecordsHtml + "   <div class=\"item_info_plate " + pcolor + "\">" + messages[i].plateid +
          "</div>";
        passRecordsHtml = passRecordsHtml + "   <div>" + dtime + "</div>";
        passRecordsHtml = passRecordsHtml + "   <div class=\"item_info_status " + din + "\">" + messages[i].status +
          "</div>";
        if (messages[i].clly == '小区') {
          passRecordsHtml = passRecordsHtml +
            "   <div class=\"item_info_clly item_info_clly_xq\" onclick=\"showXqVehicleOwnersInfoDialog(this)\">" +
            messages[i].clly + "</div>";
        }
        passRecordsHtml = passRecordsHtml + "  </div>";
        passRecordsHtml = passRecordsHtml + "</div>";
      }
      $("#con_detail_3 .con_vehicle_pass_record").html(passRecordsHtml);
    }

    function showXqVehicleOwnersInfoDialog(obj) {

      var content = assembleXqVehicleOwnersInfoDialogContent(obj);

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['600px', '180px'],
        "content": content,
        "moveType": 1,
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }

    function assembleXqVehicleOwnersInfoDialogContent(obj, data) {
      debugger
      var pic = $(obj).parent('.item_info').parent(".con_vehicle_pass_record_item").data("pic");
      var cphm = $(obj).parent('.item_info').parent(".con_vehicle_pass_record_item").data("cphm");
      var lxdh = $(obj).parent('.item_info').parent(".con_vehicle_pass_record_item").data("lxdh");
      var ssxq = $(obj).parent('.item_info').parent(".con_vehicle_pass_record_item").data("ssxq");
      var dz = $(obj).parent('.item_info').parent(".con_vehicle_pass_record_item").data("dz");
      var content = "";
      content = content + "<div class='dialog-vehicle-owner-container'>";
      content = content + "<div class='img'>";
      content = content + "<img src='" + picBaseUrl + "/car/" + pic +
        "' onerror=\"this.src='/static/image/default_nophoto.png'\">";
      content = content + "</div>";
      content = content + "<div class='msg'>";
      content = content + "<div>车牌号码：" + cphm + "</div>";
      content = content + "<div>联系电话：" + lxdh + "</div>";
      content = content + "<div>所属小区：" + ssxq + "</div>";
      content = content + "<div>居住地址：" + dz + "</div>";
      content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    function showVehicleVehiclePicDialog(obj) {

      var pic = $(obj).parent(".con_vehicle_pass_record_item").data("pic");
      var content = assembleVehiclePicDialogContent(pic);

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['768px', '432px'],
        "content": content,
        "moveType": 1,
        "skin": 'layer-custom',
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }

    function assembleVehiclePicDialogContent(dpic) {
      var content = "";
      content = content + "<div class=\"dialog-vehicle-pass-container\">";
      content = content + "<img src=\"" + picBaseUrl + "/car/" + dpic +
        "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
      content = content + "</div>";
      return content;
    }

    // 展示过车统计数据
    function showVehiclePassStatData(message) {

      var passStatHtml = "";
      passStatHtml = passStatHtml + "  <div class=\"con_vehicle_pass_stat_total\">";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_left\">车辆登记数：</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_center\">" + message.v_total + "</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_right\">| 外来车辆</div>";
      passStatHtml = passStatHtml + "  </div>";
      passStatHtml = passStatHtml + "  <div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_left\">今日进入：</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_center\">" + message.v_entry + "</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_right\">" + message.v_foreign_entry +
        "</div>";
      passStatHtml = passStatHtml + "  </div>";
      passStatHtml = passStatHtml + "  <div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_left\">今日外出：</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_center\">" + message.v_exit + "</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_right\">" + message.v_foreign_exit +
        "</div>";
      passStatHtml = passStatHtml + "  </div>";
      passStatHtml = passStatHtml + "  <div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_left\">滞留数：</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_center\">" + message.v_detention + "</div>";
      passStatHtml = passStatHtml + "    <div class=\"con_vehicle_pass_stat_right\">" + message.v_foreign_detention +
        "</div>";
      passStatHtml = passStatHtml + "  </div>";

      $("#con_detail_3 .con_vehicle_pass_stat").html(passStatHtml);
    }

    // 加载抓拍数据 - 报警
    function loadFaceSimilarAlarmData() {

      var token = Cookies.get("Admin-Token");

      // 右侧菜单人脸识别数据 - 报警
      loadData(baseUrl + "/face/similar/alarm", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showMenuContentForFaceSimilarAlarm(messages);
        }
      });
    }

    // 展示人脸小区
    function showMenuContentForFaceSimilarAlarm(messages) {

      // 展示获取到的所有数据
      if ($("#con_subdetail_face_3 .con_subdetail_face_3_item").length == 0) {
        showMenuContentForFaceSimilarAlarmFull(messages);
        return;
      }

      // 展示增量数据
      showMenuContentForFaceSimilarAlarmItem(messages);
    }

    // 展示增量数据
    function showMenuContentForFaceSimilarAlarmItem(messages) {

      var token = Cookies.get("Admin-Token");

      // 倒序获取数据
      for (var i = messages.length - 1; i >= 0; i--) {

        // 判断数据是否存在
        if ($("#con_subdetail_face_3 #face_similar_alarm_item_" + messages[i].faceImageId).length != 0) {
          continue;
        }

        var carameName = messages[i].cameraName;
        if (carameName.substring(0, 4) == '万盛金邸') {
          carameName = carameName.substring(4);
        }

        // 数据加密
        var mb = $.base64.btoa(JSON.stringify(messages[i]), true);

        var faceSimilarHtml = "";
        faceSimilarHtml = faceSimilarHtml + "<div id=\"face_similar_alarm_item_" + messages[i].faceImageId +
          "\" class=\"con_subdetail_face_3_item\">";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-title\">";
        faceSimilarHtml = faceSimilarHtml + "   <i class=\"iconfont\">&#xe651;</i>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-name\">" + carameName + "</div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-time\">" + messages[i].timeBegin + "</div>";
        faceSimilarHtml = faceSimilarHtml + " </div>";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-content\" data-message=\"" + mb + "\">";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + picBaseUrl + "/face/" + messages[i].faceImageUrl +
          ".jpg\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + baseUrl + "/face/similar/" + messages[i].hitZjhm +
          "/zp?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_info\">";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"item_info_contrast\">" + messages[i].similarity +
          "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div>" + messages[i].hitXm + "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"can-click\" title=\"" + messages[i].hitZjhm +
          "\" onclick=\"openArchive('" + messages[i].hitZjhm +
          "')\"><img src=\"/static/image/sfz.jpg\" width=\"20\" /></div>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "  </div>";
        faceSimilarHtml = faceSimilarHtml + "</div>";

        // 添加增量数据
        $("#con_subdetail_face_3").prepend(faceSimilarHtml);
      }

      // 删除列表后面的数据
      var tcount = $("#con_subdetail_face_3 .con_subdetail_face_3_item").length;
      if (tcount > 10) {
        var dcount = tcount - 10;
        for (var i = 0; i < dcount; i++) {
          $("#con_subdetail_face_3 .con_subdetail_face_3_item").eq(-1).remove();
        }
      }
    }

    // 人脸数据(报警)内容展示
    function showMenuContentForFaceSimilarAlarmFull(messages) {

      var token = Cookies.get("Admin-Token");

      var faceSimilarHtml = "";
      for (var i = 0; i < messages.length; i++) {

        var carameName = messages[i].cameraName;
        if (carameName.substring(0, 4) == '万盛金邸') {
          carameName = carameName.substring(4);
        }

        // 数据加密
        var mb = $.base64.btoa(JSON.stringify(messages[i]), true);

        faceSimilarHtml = faceSimilarHtml + "<div id=\"face_similar_alarm_item_" + messages[i].faceImageId +
          "\" class=\"con_subdetail_face_3_item\">";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-title\">";
        faceSimilarHtml = faceSimilarHtml + "   <i class=\"iconfont\">&#xe651;</i>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-name\">" + carameName + "</div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-time\">" + messages[i].timeBegin + "</div>";
        faceSimilarHtml = faceSimilarHtml + " </div>";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-content\" data-message=\"" + mb + "\">";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + picBaseUrl + "/face/" + messages[i].faceImageUrl +
          ".jpg\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + baseUrl + "/face/similar/" + messages[i].hitZjhm +
          "/zp?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_info\">";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"item_info_contrast\">" + messages[i].similarity +
          "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div>" + messages[i].hitXm + "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"can-click\" title=\"" + messages[i].hitZjhm +
          "\" onclick=\"openArchive('" + messages[i].hitZjhm +
          "')\"><img src=\"/static/image/sfz.jpg\" width=\"20\" /></div>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "  </div>";
        faceSimilarHtml = faceSimilarHtml + "</div>";
      }

      $("#con_subdetail_face_3").html(faceSimilarHtml);
    }

    // 加载抓拍数据 - 小区
    function loadFaceSimilarData() {

      var token = Cookies.get("Admin-Token");

      // 右侧菜单人脸识别数据 - 小区
      loadData(baseUrl + "/face/similar", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showMenuContentForFaceSimilar(messages);
        }
      });
    }

    // 展示人脸小区
    function showMenuContentForFaceSimilar(messages) {

      // 展示获取到的所有数据
      if ($("#con_subdetail_face_2 .con_subdetail_face_2_item").length == 0) {
        showMenuContentForFaceSimilarFull(messages);
        return;
      }

      // 展示增量数据
      showMenuContentForFaceSimilarItem(messages);
    }

    // 展示增量数据
    function showMenuContentForFaceSimilarItem(messages) {

      var token = Cookies.get("Admin-Token");

      for (var i = messages.length - 1; i >= 0; i--) {

        // 判断数据是否存在
        if ($("#con_subdetail_face_2 #face_similar_item_" + messages[i].faceImageId).length != 0) {
          continue;
        }

        var carameName = messages[i].cameraName;
        if (carameName.substring(0, 4) == '万盛金邸') {
          carameName = carameName.substring(4);
        }

        // 数据加密
        var mb = $.base64.btoa(JSON.stringify(messages[i]), true);

        var faceSimilarHtml = "";
        faceSimilarHtml = faceSimilarHtml + "<div id=\"face_similar_item_" + messages[i].faceImageId +
          "\" class=\"con_subdetail_face_2_item\">";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-title\">";
        faceSimilarHtml = faceSimilarHtml + "   <i class=\"iconfont\">&#xe651;</i>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-name\">" + carameName + "</div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-time\">" + messages[i].timeBegin + "</div>";
        faceSimilarHtml = faceSimilarHtml + " </div>";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-content\" data-message=\"" + mb + "\">";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + picBaseUrl + "/face/" + messages[i].faceImageUrl +
          ".jpg\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + baseUrl + "/face/similar/" + messages[i].hitZjhm +
          "/zp?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_info\">";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"item_info_contrast\">" + messages[i].similarity +
          "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div>" + messages[i].hitXm + "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"can-click\" title=\"" + messages[i].hitZjhm +
          "\" onclick=\"openArchive('" + messages[i].hitZjhm +
          "')\"><img src=\"/static/image/sfz.jpg\" width=\"20\" /></div>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "  </div>";
        faceSimilarHtml = faceSimilarHtml + "</div>";

        // 添加增量数据
        $("#con_subdetail_face_2").prepend(faceSimilarHtml);
      }

      // 删除列表后面的数据
      var tcount = $("#con_subdetail_face_2 .con_subdetail_face_2_item").length;
      if (tcount > 10) {
        var dcount = tcount - 10;
        for (var i = 0; i < dcount; i++) {
          $("#con_subdetail_face_2 .con_subdetail_face_2_item").eq(-1).remove();
        }
      }
    }

    // 人脸数据(小区)内容展示
    function showMenuContentForFaceSimilarFull(messages) {

      var token = Cookies.get("Admin-Token");

      var faceSimilarHtml = "";
      for (var i = 0; i < messages.length; i++) {

        var carameName = messages[i].cameraName;
        if (carameName.substring(0, 4) == '万盛金邸') {
          carameName = carameName.substring(4);
        }

        // 数据加密
        var mb = $.base64.btoa(JSON.stringify(messages[i]), true);

        faceSimilarHtml = faceSimilarHtml + "<div id=\"face_similar_item_" + messages[i].faceImageId +
          "\" class=\"con_subdetail_face_2_item\">";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-title\">";
        faceSimilarHtml = faceSimilarHtml + "   <i class=\"iconfont\">&#xe651;</i>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-name\">" + carameName + "</div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item-title-time\">" + messages[i].timeBegin + "</div>";
        faceSimilarHtml = faceSimilarHtml + " </div>";
        faceSimilarHtml = faceSimilarHtml + " <div class=\"item-content\" data-message=\"" + mb + "\">";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + picBaseUrl + "/face/" + messages[i].faceImageUrl +
          ".jpg\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_avatar\" onclick=\"showFaceSimilarDialog(this)\">";
        faceSimilarHtml = faceSimilarHtml + "     <img src=\"" + baseUrl + "/face/similar/" + messages[i].hitZjhm +
          "/zp?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "   <div class=\"item_info\">";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"item_info_contrast\">" + messages[i].similarity +
          "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div>" + messages[i].hitXm + "</div>";
        faceSimilarHtml = faceSimilarHtml + "     <div class=\"can-click\" title=\"" + messages[i].hitZjhm +
          "\" onclick=\"openArchive('" + messages[i].hitZjhm +
          "')\"><img src=\"/static/image/sfz.jpg\" width=\"20\" /></div>";
        faceSimilarHtml = faceSimilarHtml + "   </div>";
        faceSimilarHtml = faceSimilarHtml + "  </div>";
        faceSimilarHtml = faceSimilarHtml + "</div>";
      }

      $("#con_subdetail_face_2").html(faceSimilarHtml);
    }

    // 展示比中图片的对话框
    function showFaceSimilarDialog(obj) {
      var message = $.base64.atob($(obj).parent('.item-content').data("message"), true);
      var content = assembleFaceSimilarDialogContent(JSON.parse(message));

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['780px', '345px'],
        "content": content,
        "moveType": 1,
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }

    // 比中（小区）对话框内容
    function assembleFaceSimilarDialogContent(message) {
      var token = Cookies.get("Admin-Token");

      // 性别翻译
      var gender = '其他';
      if (message.recGender == 1) {
        gender = "男";
      } else if (message.recGender == 2) {
        gender = "女";
      }

      // 年龄范围翻译
      var age = "其他";
      if (message.recAgeRang == 0) {
        age = "小孩"
      } else if (message.recAgeRang == 1) {
        age = "青年"
      } else if (message.recAgeRang == 2) {
        age = "中年"
      } else if (message.recAgeRang == 3) {
        age = "老年"
      }

      // 眼镜翻译
      var glasses = "无";
      if (message.recGlasses == 1) {
        glasses = "眼镜";
      } else if (message.recGlasses == 2) {
        glasses = "墨镜";
      }

      var content = "";
      content = content + "<div class='dialog-face-similar-container'>";
      content = content + "<div class='img-1'>";
      content = content + "<img src='" + picBaseUrl + "/face/" + message.faceImageUrl +
        ".jpg' onerror=\"this.src='/static/image/default_nophoto.png'\">";
      content = content + "</div>";
      content = content + "<div class='img-2'>";
      content = content + "<img src=\"" + baseUrl + "/face/similar/" + message.hitZjhm + "/zp?Authorization=" + token +
        "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
      content = content + "</div>";
      content = content + "<div class='img-3'>";
      content = content + "<img src='" + picBaseUrl + "/face/" + message.pictureUrl +
        ".jpg' onerror=\"this.src='/static/image/default_nophoto.png'\">";
      content = content + "</div>";
      content = content + "<div class='msg-1'>";
      content = content + "<div>位置：" + message.cameraName + "</div>";
      content = content + "<div>时间：" + message.timeBegin + "</div>";
      content = content + "<div>";
      content = content + "特征：";
      if (message.recGender == 1) {
        content = content + "<i class=\"iconfont icon-custom\">&#xe61d;</i>";
      } else {
        content = content + "<i style=\"color: rgb(232, 68, 119);\" class=\"iconfont icon-custom\">&#xe614;</i>";
      }
      content = content + "<span>" + gender + "</span>";
      content = content + "<i class=\"iconfont icon-custom\">&#xe693;</i>";
      content = content + "<span>" + age + "</span>";
      content = content + "<i class=\"iconfont icon-custom\">&#xe98e;</i>";
      content = content + "<span>" + glasses + "</span>";
      content = content + "</div>";
      content = content + "</div>";
      content = content + "<div class='msg-2'>";
      content = content + "<div>姓名：" + message.hitXm + "</div>";
      content = content + "<div>性别：" + gender + "</div>";
      content = content + "<div>身份证号：" + message.hitZjhm + "</div>";
      content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    // 加载人脸数据 - 比中
    function loadFaceMsgData() {

      var token = Cookies.get("Admin-Token");

      // 右侧菜单人脸识别数据 - 抓拍
      loadData(baseUrl + "/face/msg", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var messages = data.data;
          showMenuContentForFaceMsg(messages);
        }
      });
    }

    // 人脸数据(抓拍)内容展示
    function showMenuContentForFaceMsg(messages) {

      var faceMsgHtml = "";
      for (var i = 0; i < messages.length; i++) {
        faceMsgHtml = faceMsgHtml + assembleFaceMsgItem(messages[i]);
      }

      $("#con_subdetail_face_1").html(faceMsgHtml);
    }

    function assembleFaceMsgItem(message) {
      var faceMsgItemHtml = "";
      var mb = $.base64.btoa(JSON.stringify(message), true);
      faceMsgItemHtml = faceMsgItemHtml + "<div class=\"con_subdetail_face_1_item\" data-message=\"" + mb +
        "\" data-mid=\"" + message.faceImageId + "\">";
      faceMsgItemHtml = faceMsgItemHtml + " <div class=\"item_avatar\" onclick=\"showFaceMsgDialog(this);\">";
      faceMsgItemHtml = faceMsgItemHtml + "   <img src=\"" + picBaseUrl + "/face/" + message.faceImageUrl +
        ".jpg\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
      faceMsgItemHtml = faceMsgItemHtml + " </div>";
      faceMsgItemHtml = faceMsgItemHtml + " <div class=\"item_info\">";
      faceMsgItemHtml = faceMsgItemHtml + "   <div>" + message.cameraName + "</div>";
      faceMsgItemHtml = faceMsgItemHtml + "   <div>" + message.timeBegin + "</div>";
      faceMsgItemHtml = faceMsgItemHtml + " </div>";
      faceMsgItemHtml = faceMsgItemHtml + "</div>";
      return faceMsgItemHtml;
    }

    // 展示人脸抓拍对话框
    var _layer_index;

    function showFaceMsgDialog(obj) {

      var message = $.base64.atob($(obj).parent(".con_subdetail_face_1_item").data("message"), true);
      var content = assembleFaceMsgDialogContent(JSON.parse(message));

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['605px', '245px'],
        "content": content,
        "moveType": 1,
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }

    // 展示抓拍信息对话框
    function assembleFaceMsgDialogContent(message) {
      var content = "";
      content = content + "<div class='dialog-face-msg-container'>";
      content = content + "<div class='img-1'>";
      content = content + "<img src='" + picBaseUrl + "/face/" + message.faceImageUrl +
        ".jpg' onerror=\"this.src='/static/image/default_nophoto.png'\">";
      content = content + "</div>";
      content = content + "<div class='img-2'>";
      content = content + "<img src='" + picBaseUrl + "/face/" + message.pictureUrl +
        ".jpg' onerror=\"this.src='/static/image/default_nophoto.png'\">";
      content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    // 页面默认的定位
    function loadDefaultLocations() {

      // 加载实有房屋
      loadHouseLocations();

      // 加载实有单位
      loadDwLocations();

      // 加载小区出入口
      loadXqxxLocations();

      // 加载安防措施
      loadCameraLocations();

      // 加载 WIFI 嗅探设备
      loadWifiDeviceLocations();

      // 加载消防栓位置
      loadXfsLocations();

    }

    // 加载消防栓位置
    function loadXfsLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/xqxx/xfs/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            if (locations[i].lon != "" && locations[i].lat != "") {
              addMarker(locations[i].lon, locations[i].lat, locations[i].crkbh, "xfs", locations[i]);
            }
          }

          // 右侧菜单中消防栓数据展示
          showXfsData(locations);
        }
      });
    }

    // 右侧菜单中消防栓数据展示
    function showXfsData(messages) {

      var token = Cookies.get("Admin-Token");

      var xfsDataHtml = "";
      for (var i = 0; i < messages.length; i++) {
        xfsDataHtml = xfsDataHtml + "<div class=\"con_xf_xfs_record_item\" data-pic=\"" + messages[i].crkbh + "\">";
        xfsDataHtml = xfsDataHtml + "  <i class=\"iconfont\">&#xe651;</i>";
        xfsDataHtml = xfsDataHtml + "  <div class=\"item_photo\" onclick=\"showXfsPicDialog(this)\">";
        xfsDataHtml = xfsDataHtml + "    <img src=\"" + baseUrl + "/xqxx/" + messages[i].crkbh +
          "/photo?Authorization=" + token + "\" onerror=\"this.src='/static/image/default_nophoto.png'\">";
        xfsDataHtml = xfsDataHtml + "  </div>";
        xfsDataHtml = xfsDataHtml + "  <div class=\"item_info\">";
        xfsDataHtml = xfsDataHtml + "    <div class=\"item_info_name \">" + messages[i].crkmc + "</div>";
        xfsDataHtml = xfsDataHtml + "    <div class=\"item_info_status\">正常</div>";
        xfsDataHtml = xfsDataHtml + "  </div>";
        xfsDataHtml = xfsDataHtml + "</div>";
      }

      $("#con_detail_5 #con_subdetail_xf_1").html(xfsDataHtml);
    }

    function showXfsPicDialog(obj) {

      var pic = $(obj).parent(".con_xf_xfs_record_item").data("pic");
      var content = assembleXfsDialogContent(pic);

      if (_layer_index) {
        layer.close(_layer_index);
      }

      _layer_index = layer.open({
        "type": 1,
        "shade": false,
        "title": false,
        "area": ['768px', '432px'],
        "content": content,
        "moveType": 1,
        "skin": 'layer-custom',
        "cancel": function () {
          layer.close(_layer_index);
        }
      });
    }

    function assembleXfsDialogContent(dpic) {
      var token = Cookies.get("Admin-Token");
      var content = "";
      content = content + "<div class=\"dialog-vehicle-pass-container\">";
      content = content + "<img src=\"" + baseUrl + "/xqxx/" + dpic + "/photo?Authorization=" + token +
        "\" onerror=\"this.src='/static/image/default_nophoto.png'\"></img>";
      content = content + "</div>";
      return content;
    }

    // 加载 WIFI 嗅探设备
    function loadWifiDeviceLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/wifi/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            if (locations[i].longitude != "" && locations[i].latitude != "") {
              addMarker(locations[i].longitude, locations[i].latitude, locations[i].equipmentNum, "wifi", locations[
                i]);
            }
          }
        }
      });
    }

    // 加载安防措施定位
    function loadCameraLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/camera/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            if (locations[i].lng != "" && locations[i].lat != "") {
              addMarker(locations[i].lng, locations[i].lat, locations[i].xh, "camera", locations[i]);
            }
          }
        }
      });
    }

    // 加载小区出入口定位
    function loadXqxxLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/xqxx/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            if (locations[i].lon != "" && locations[i].lat != "") {
              addMarker(locations[i].lon, locations[i].lat, locations[i].crkbh, "xqxx", locations[i]);
            }
          }
        }
      });
    }

    // 加载实有单位
    function loadDwLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/dwxx/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            if (locations[i].gdLat != "" && locations[i].gdlon != "") {
              addMarker(locations[i].gdLon, locations[i].gdLat, locations[i].dwbh, "dwxx", locations[i]);
            }
          }
        }
      });
    }

    // 加载实有房屋
    function loadHouseLocations() {
      var token = Cookies.get("Admin-Token");
      loadData(baseUrl + "/houses/locations", token, function (data) {
        var code = data.code;
        if (code == 200) {
          var locations = data.data;
          for (var i = 0; i < locations.length; i++) {
            addMarker(locations[i].gpsjd, locations[i].gpswd, locations[i].cjbh, "house", locations[i]);
          }
        }
      });
    }

    // 展示某个类型的坐标信息
    function showLocationsByType(type) {
      var overlays = map.getOverlayLayer().getOverlays();
      for (var i in overlays) {
        if (overlays[i].type == type) {
          overlays[i].visible(true);
        }
      }
    }

    // 隐藏某个类型的坐标信息
    function hiddenLocationsByType(type) {
      var overlays = map.getOverlayLayer().getOverlays();
      for (var i in overlays) {
        if (overlays[i].type == type) {
          overlays[i].visible(false);
        }
      }
    }

    // 展示实有房屋位置
    function showHouseLocations() {
      var overlays = map.getOverlayLayer().getOverlays();
      for (var i in overlays) {
        if (overlays[i].type == "house") {
          overlays[i].visible(true);
        }
      }
    }

    // 隐藏实有房屋位置
    function hiddenHouseLocations() {
      var overlays = map.getOverlayLayer().getOverlays();
      for (var i in overlays) {
        if (overlays[i].type == "house") {
          overlays[i].visible(false);
        }
      }
    }

    // 异步加载数据
    function loadData(url, token, callback) {
      $.ajax({
        headers: {
          Authorization: token
        },
        type: "get",
        url: url,
        success: function (data) {
          callback(data);
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
          var status = XMLHttpRequest.status;
          if (status == 403) {
            var loc = locationPath();
            window.parent.location.href = loc;
          }
        }
      });
    }

    // 右侧菜单切换
    function setTab(name, cursel, n) {
      for (i = 1; i <= n; i++) {
        var menu = document.getElementById(name + i);
        var con = document.getElementById("con_" + name + "_" + i);
        menu.className = i == cursel ? "hover" : "";
        con.style.display = i == cursel ? "block" : "none";
      }
    }

    // 子菜单切换
    function setSubTab(prefix, model, index) {

      // 菜单展示效果
      $("." + prefix + "_" + model).removeClass("hover");
      $("#" + prefix + "_" + model + "_" + index).addClass("hover");

      // 菜单对应内容切换
      $(".con_" + prefix + "_" + model).css('display', 'none');
      $("#con_" + prefix + "_" + model + "_" + index).css('display', 'block');
    }

    // 添加点标注
    function addMarker(lng, lat, did, type, origin) {

      var path = locationPath();
      if (map) {
        var opts = new IMAP.MarkerOptions();
        opts.anchor = IMAP.Constants.BOTTOM_CENTER;
        opts.icon = new IMAP.Icon(
          path + "/static/image/" + type + "_16.png", {
            "size": new IMAP.Size(16, 16),
            "offset": new IMAP.Pixel(0, 0)
          }
        );

        var lnglat = new IMAP.LngLat(lng, lat);
        marker = new IMAP.Marker(lnglat, opts);
        marker.id = type + "_" + did;
        marker.type = type;
        map.getOverlayLayer().addOverlay(marker, false);
        if (type == 'house') {
          marker.setLabel(origin.dlbh + "号", {
            "anchor": IMAP.Constants.BOTTOM_CENTER,
            "fontColor": "rgba(255,255,255,.6)",
            "offset": new IMAP.Pixel(0, -15)
          });
        }



        // 图标上添加点击事件
        addMarkerClickEvt(type, origin, marker);
      }
    }

    var _current_marker;

    function addMarkerClickEvt(type, origin, marker) {

      // 针对不同数据类型添加不同的 InfoWindow
      var content = "";
      var token = Cookies.get("Admin-Token");
      if (type == "house") {
        content = assembleInfoWindowContent("实有房屋", baseUrl + "/houses/" + origin.cjbh + "/photo?Authorization=" +
          token, "地址：" + origin.mlph + "<br/>经度：" + origin.gpsjd + "<br/>纬度：" + origin.gpswd);
      } else if (type == "dwxx") {
        content = assembleInfoWindowContent("实有单位", baseUrl + "/dwxx/" + origin.dwbh + "/photo?Authorization=" + token,
          "简称：" + origin.dwjc + "&nbsp;<a style=\"color:#86d9fb\" href=\"javascript:void(0);\">详情</a><br/>名称：" +
          origin.dwmc);
      } else if (type == 'xqxx') {
        content = assembleInfoWindowContent("小区出入口", baseUrl + "/xqxx/" + origin.crkbh + "/photo?Authorization=" +
          token, "名称：" + origin.crkmc);
      } else if (type == 'camera') {
        content = assembleInfoWindowContent("实有安防设施", baseUrl + "/camera/" + origin.xh + "/photo?Authorization=" +
          token, "名称：" + origin.name);
      } else if (type == 'xfs') {
        content = assembleInfoWindowContent("消防栓", baseUrl + "/xqxx/" + origin.crkbh + "/photo?Authorization=" + token,
          "名称：" + origin.crkmc);
      } else if (type == 'wifi') {
        content = assembleInfoWindowContentWithoutPicture("WIFI", "安装地址：" + origin.installPoint + "<br/> MAC：" + origin
          .mac);
      }

      // 图标点击事件
      if (content != "") {
        marker.addEventListener(IMAP.Constants.CLICK, function (evt) {

          // 如果其他 Marker 打开了消息框，则关闭
          if (_current_marker) {
            _current_marker.closeInfoWindow();
          }

          // 打开消息框
          _current_marker = this;
          var lnglat = this.getPosition();
          this.openInfoWindow(
            content, {
              size: new IMAP.Size(320, 110),
              position: lnglat,
              autoPan: false,
              offset: new IMAP.Pixel(160, 75),
              anchor: IMAP.Constants.CENTER,
              type: IMAP.Constants.OVERLAY_INFOWINDOW_CUSTOM,
              visible: true
            }
          );
        });
      }
    }

    function assembleInfoWindowContentWithoutPicture(title, context) {
      var content = "<div class=\"infowindow-container\">"
      content = content + "<div class=\"infowindow-title\">"
      content = content + "<div class=\"infowindow-title-content\">";
      content = content + title;
      content = content + "</div>";
      content = content + "<span class=\"infowindow-title-close\" onclick=\"closeInfoWindow()\">";
      content = content + "<i class=\"iconfont\">&#xe603;</i>"
      content = content + "</span>";
      content = content + "</div>";
      content = content + "<div class=\"infowindow-content\">";
      content = content + context;
      content = content + "</div>";
      content = content + "<div class=\"infowindow-marker\">";
      content = content + "<i class=\"iconfont\">&#xe682;</i>";
      content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    function assembleInfoWindowContent(title, url, context) {
      var content = "<div class=\"infowindow-container\">"
      content = content + "<div class=\"infowindow-title\">"
      content = content + "<div class=\"infowindow-title-content\">";
      content = content + title;
      content = content + "</div>";
      content = content + "<span class=\"infowindow-title-close\" onclick=\"closeInfoWindow()\">";
      content = content + "<i class=\"iconfont\">&#xe603;</i>"
      content = content + "</span>";
      content = content + "</div>";
      content = content + "<div class=\"infowindow-content\">";
      content = content + "<img class=\"infowindow-content-image\" src=\" " + url +
        "\" onerror=\"this.src='/static/image/default_nophoto.png'\" />";
      content = content + context;
      content = content + "</div>";
      content = content + "<div class=\"infowindow-marker\">";
      content = content + "<i class=\"iconfont\">&#xe682;</i>";
      content = content + "</div>";
      content = content + "</div>";
      return content;
    }

    // 关闭消息窗
    function closeInfoWindow() {
      if (map && _current_marker) {
        _current_marker.closeInfoWindow();
      }
    }

    // 展示详情
    function showInfoWindow(type, origin) {
      if (type == 'house') {
        showHouseInfoWindow(origin);
      }
    }

    // 展示房屋详情
    function showHouseInfoWindow(origin) {
      // console.info(origin);
    }

    function locationPath() {
      var href = window.document.location.href;
      var pname = window.document.location.pathname;
      var pos = href.indexOf(pname);
      var path = href.substring(0, pos);
      return path;
    }

    //动态显示数据
    function countUp(id, end) {
      var oldCntStr = document.getElementById(id).innerText;
      var oldCnt = oldCntStr.replace(/[,]/g, "");
      var options = {
        useEasing: true,
        useGrouping: true,
        separator: ',',
        decimal: '.',
      };
      var obj = new CountUp(id, oldCnt, end, 0, 2.5, options);
      obj.start();
    }

    //打开一标六实详细信息页面
    function openYblsDetail() {
      window.open(serviceUrl + "/#/ybls");
    }

    function showYblsDetail_chart(id) {
      var path = locationPath();
      if (id == 'syrk') {
        parent.location.href = 'yw_charts.html'
      } else if (id == 'syfw') {
        parent.location.href = 'shfw.html'
      } else if (id == 'sydw') {
        parent.location.href = 'sydw.html'
      }

    }
    //打开一人一档页面
    function openArchive(zjhm) {
      window.open(serviceUrl + "/#/archive?zjhm=" + zjhm);
    }

  </script>
</head>

<body>
  <div id="map" class="map_contaner"></div>

  <!-- Head -->
  <div class="head-container">
    <div class="head_logo"></div>

    <!-- 天气预报
        <div class="gz-content" style=" float: right; padding: 15px;">
          <div  class="gz-top">
              <div class="am-fl">&nbsp;&nbsp;<span id="topDate">12月07日</span> &nbsp;&nbsp;<span id="topWeek">周三</span> &nbsp;&nbsp;<span id="topWeather">多云</span>&nbsp;&nbsp;<span><span id="topLowTemp">6℃</span>~<span id="topHighTemp">17℃</span>
              </div>
          </div>

          <div id="main" class="am-text-center gz-data">
          </div>
      </div>
      -->
  </div>

  <!-- 一标六尺 -->
  <div class="stat-container">
    <div class="stat-row">
      <div class="stat-box">
        <span class="stat-box-icon pull-left">
          <img src="../image/syrk_icon.png">
          <!-- <i class="iconfont">&#xe66e;</i> -->
        </span>
        <a href="javascript:;" style="text-decoration: none;" onclick="showYblsDetail_chart('syrk');">
          <div class="stat-num num-syrk" id="syrk">0</div>
        </a>
        <div class="stat-info">
          实有人口
        </div>
      </div>

      <img class="row-fgx" src="../image/fgx.png">

      <div class="stat-box">
        <span class="stat-box-icon pull-left">
          <img src="../image/syfw_icon.png">
          <!-- <i class="iconfont">&#xe600;</i> -->
        </span>
        <a href="javascript:;" style="text-decoration: none;" onclick="showYblsDetail_chart('syfw');">
          <div class="stat-num num-syfw" id="syfw">0</div>
        </a>
        <div class="stat-info">实有房屋</div>
      </div>
    </div>

    <div class="stat-row">
      <div class="stat-box">
        <span class="stat-box-icon pull-left">
          <img src="../image/sydw_icon.png">
          <!-- <i class="iconfont">&#xe616;</i> -->
        </span>
        <a href="javascript:;" style="text-decoration: none;" onclick="showYblsDetail_chart('sydw');">
          <div class="stat-num num-sydw" id="sydw">0</div>
        </a>
        <div class="stat-info">实有单位</div>
      </div>

      <img class="row-fgx" src="../image/fgx.png">

      <div class="stat-box">
        <span class="stat-box-icon">
          <img src="../image/syafss_icon.png">
          <!-- <i class="iconfont">&#xe9a7;</i> -->
        </span>
        <div class="stat-num num-syafss" id="syafss">0</div>
        <div class="stat-info">实有安防</div>
      </div>
    </div>

    <div class="stat-row">
      <div class="stat-box">
        <span class="stat-box-icon pull-left">
          <!-- <i class="iconfont">&#xe63d;</i> -->
          <img src="../image/syllzb_icon.png">
        </span>
        <div class="stat-num num-syllzb" id="syllzb">0</div>
        <div class="stat-info">实有力量</div>
      </div>

      <img class="row-fgx" src="../image/fgx.png">

      <div class="stat-box">
        <span class="stat-box-icon pull-left">
          <img src="../image/syjq_icon.png">
          <!-- <i class="iconfont">&#xe63e;</i> -->
        </span>
        <div class="stat-num num-syjq" id="syjq">0</div>
        <div class="stat-info">实有警情</div>
      </div>
    </div>

    <div class="stat-row">
      <div class="bubble">
        <div class="bubble_min ani_auto ani_top_top ani_time_8"></div>
        <div class="bubble_min ani_auto ani_top_top ani_time_12"></div>
        <div class="bubble_min ani_auto ani_top_top ani_time_10"></div>
        <div class="bubble_min ani_auto ani_top_top ani_time_12"></div>
        <div class="bubble_min ani_auto ani_top_top ani_time_8"></div>
        <div class="bubble_list">
          <div class="bubble_item ani_auto ani_8 ani_top_bottom">
            <p>
              <span>来沪</span>
              <br/>
              <i>1059</i>
            </p>
          </div>
          <div class="bubble_item ani_auto ani_time_10 ani_bottom_top">
            <p>
              <span>户籍</span>
              <br/>
              <i>3779</i>
            </p>
          </div>
          <div class="bubble_item ani_auto ani_time_10 ani_bottom_top">
            <p>
              <span>境外</span>
              <br/>
              <i>17</i>
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="stat-row" style="height: 120px;">
      <div id="chart" style="width: 100%;height:200%;"></div>
    </div>

  </div>

  <!-- 地图操作按钮 -->
  <div class="operator-container">
    <div class="operator-ops">
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" id="operator-dynamic" name="operator-dynamic" checked>
        <span class="operator-checkbox operator-input"></span>
        动态感知
      </label>
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" name="operator-house" checked>
        <span class="operator-checkbox operator-input"></span>
        实有房屋
      </label>
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" name="operator-dwxx" checked>
        <span class="operator-checkbox operator-input"></span>
        实有单位
      </label>
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" name="operator-camera" checked>
        <span class="operator-checkbox operator-input"></span>
        实有安防
      </label>
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" name="operator5">
        <span class="operator-checkbox operator-input"></span>
        实有力量
      </label>
      <label class="operator-label">
        <input class="operator-radio" type="checkbox" name="operator-xqxx" checked>
        <span class="operator-checkbox operator-input"></span>
        进出通道
      </label>
      <label class="operator-label" style="margin-right: 6px;">
        <input class="operator-radio" type="checkbox" name="operator-wifi" checked>
        <span class="operator-checkbox operator-input"></span>
        WIFI嗅探
      </label>
    </div>
  </div>

  <div class="detail-container">
    <div class="detail-tab-container detail-tab-border">
      <div class="detail-menu-box ">
        <ul>
          <li id="detail1" onclick="setTab('detail',1,5)" class="hover">
            人脸
          </li>
          <li id="detail2" onclick="setTab('detail',2,5)">
            开门
          </li>
          <li id="detail3" onclick="setTab('detail',3,5)">
            过车
          </li>
          <li id="detail4" onclick="setTab('detail',4,5)">
            WIFI
          </li>
          <li id="detail5" onclick="setTab('detail',5,5)">
            消防
          </li>
        </ul>
      </div>
      <div class="detail-content-box">
        <!-- 人脸标签页内容 -->
        <div id="con_detail_1">
          <div class="detail-sub-container">
            <div class="detail-sub-tab-container detail-sub-tab-border">
              <div class="detail-sub-menu-box ">
                <ul>
                  <li class="subdetail_face hover" id="subdetail_face_1" onclick="setSubTab('subdetail', 'face', 1)">
                    抓拍
                  </li>
                  <li class="subdetail_face" id="subdetail_face_2" onclick="setSubTab('subdetail', 'face', 2)">
                    小区
                  </li>
                  <li class="subdetail_face" id="subdetail_face_3" onclick="setSubTab('subdetail', 'face', 3)">
                    报警
                  </li>
                </ul>
              </div>
              <div class="detail-sub-content-box">
                <div class="con_subdetail_face" id="con_subdetail_face_1">
                </div>
                <div class="con_subdetail_face" id="con_subdetail_face_2" style="display:none">
                </div>
                <div class="con_subdetail_face" id="con_subdetail_face_3" style="display:none">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="con_detail_2" style="height: 430px; display:none;color:#FFFFFF; margin-top: 25px; text-align: center;">
          暂无数据
        </div>
        <div id="con_detail_3" style="display:none">
          <div class="con_vehicle_pass">
            <div class="con_vehicle_pass_stat">
            </div>
            <div class="con_vehicle_pass_record">
            </div>
          </div>
        </div>
        <div id="con_detail_4" style="display:none">
          <div class="con_wifi_records">
            <div class="con_wifi_operator">
              <div class="con_wifi_more">
                更多>>
              </div>
            </div>
            <div class="con_wifi_items">
            </div>
          </div>
        </div>
        <div id="con_detail_5" style="display:none">
          <div class="detail-sub-container">
            <div class="detail-sub-tab-container detail-sub-tab-border">
              <div class="detail-sub-menu-box ">
                <ul>
                  <li class="subdetail_xf hover" id="subdetail_xf_1" onclick="setSubTab('subdetail', 'xf', 1)">
                    消防栓
                  </li>
                  <li class="subdetail_xf" id="subdetail_xf_2" onclick="setSubTab('subdetail', 'xf', 2)">
                    窨井盖
                  </li>
                </ul>
              </div>
              <div class="detail-sub-content-box">
                <div class="con_subdetail_xf" id="con_subdetail_xf_1">
                </div>
                <div class="con_subdetail_xf" id="con_subdetail_xf_2">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    var map;

    function initMap() {
      map = new IMAP.Map("map", {
        minZoom: 3,
        maxZoom: 20,
        // 设置地图初始化级别
        zoom: 17,
        // 设置地图中心点坐标
        center: new IMAP.LngLat(121.3377285004, 30.7521905824),
        // 设置地图缩放动画效果
        animation: true
      });
    }

    // 初始化地图
    initMap();
    // 添加路网图层
    addRoadNetLayer();

  </script>

  <!-- 天气预报
	<script src="./js/echarts.custom.js"></script>
	<script src="./js/dateformat.js"></script>
	<script src="./js/gz.js"></script>
 -->
</body>

</html>
